<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>找回密码</title>
    <link rel="stylesheet" href="css/common/reset.css">
    <link rel="stylesheet" href="css/common/footer.css">
    <link rel="stylesheet" href="css/common/fixed.css">
    <link rel="stylesheet" href="css/login.css">
</head>

<body>
    <div class="bai-login-box">
        <div class="head-box">
            <div class="head">
                <div class="logo">
                    <img src="images/logo_bar.png" alt>
                </div>
                <a href="javascript:;" class="back_go_home">返回首页</a>
            </div>
        </div>
        <div class="h-160"></div>
        <div class="bai-login clearfix">
            <div class="figure-login">
                <img src="images/regis_login_img.jpg" alt>
            </div>
            <div class="regist-login">
                <form id="password-find-form">
                    <div class="h-45"></div>
                    <div class="tit">找回密码</div>
                    <div class="h-30"></div>
                    <div class="section">
                        <input type="text" placeholder="输入手机号" name="phone">
                    </div>
                    <div class="h-20"></div>
                    <div class="section code">
                        <input type="text" placeholder="请输入验证码" name="smsveri">
                        <button class="get-btn-veri" type="button">获取验证码</button>
                    </div>
                    <div class="h-20"></div>
                    <div class="section">
                        <input type="password" placeholder="请输入新密码" name="psd">
                    </div>
                    <div class="h-25"></div>
                    <a href="javascript:;" class="btn-find-psd">确认</a>
                </form>

            </div>
        </div>
    </div>
    <script src="js/jquery-1.7.min.js"></script>
    <script src="js/common.js"></script>
    <script>
        $(".btn-register").click(function () {
                passwordFind
            })
            var passwordFind = function () {
                var passwordFindForm = document.getElementById("password-find-form"),
                    phone = passwordFindForm.phone.value,
                    smsveri = passwordFindForm.smsveri.value,
                    psd = registerForm.psd.value;

                if (phone == "") {
                    warn = "请输入手机号码";
                    console.log(warn);
                    return;
                }
                if (!/(^1[3|5|8][0-9]{9}$)/.test(phone)) {
                    warn = "手机格式不正确";
                    console.log(warn);
                    return;
                }
                if (smsveri == "") {
                    warn = "验证码不能为空";
                    //console.log(warn);
                    return;
                }
                if (psd == "") {
                    warn = "密码不能为空";
                    //console.log(warn);
                    return;
                }
                if (/(^1[3|5|8][0-9]{9}$)/.test(phone) && psd != "" && smsveri != "") {
                    $.ajax({
                        type: "post",
                        url: "",
                        dataType: "json",
                        data: { ptel: ptel, ppsd: ppsd },
                        async: true,
                        success: function (data) {

                        }
                    })
                }
            }
            $(".get-btn-veri").click(function () {
                var passwordFindForm = document.getElementById("password-find-form"),
                    phone = passwordFindForm.phone.value;
                if (/(^1[3|5|8][0-9]{9}$)/.test(phone)) {
                    sendTime($(".get-btn-veri"), 30);
                }
            })
            // 倒计时
            var sendTime = function (obj, time) {
                function timeCountDown() {
                    if (time == 0) {
                        obj.removeAttr("disabled");
                        obj.val("获取验证码");
                        obj.text("获取验证码");
                        clearInterval(timer);
                        return true;
                    }
                    obj.attr("disabled", "disabled");
                    obj.val(time + "秒");
                    obj.text(time + "秒");
                    time--;
                    return false;
                }
                timeCountDown();
                var timer = setInterval(timeCountDown, 1000);
            }
    </script>
</body>

</html>