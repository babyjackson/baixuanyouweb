<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>账号安全</title>
    <link rel="stylesheet" href="../css/common/reset.css">
    <link rel="stylesheet" href="../css/common/member_head.css">
    <link rel="stylesheet" href="../css/common/member_nav.css">
    <link rel="stylesheet" href="../css/common/footer.css">
    <link rel="stylesheet" href="../css/member.css">
</head>

<body>
    <!-- 头部 -->
    <div class="member-con-box clearfix">
        <!-- 左边导航 -->

        <div class="member-con-right change-part">
            <div class="title-change">修改登录密码</div>
            <form id="bind-email-form">
                <div class="change-phone">
                    <div class="h-35"></div>
                    <div class="section">
                        <div class="lab">
                            邮箱：
                        </div>
                        <div class="input">
                            <input type="text" name="email">
                        </div>
                    </div>
                    <div class="section">
                        <div class="lab">
                            验证码：
                        </div>
                        <div class="input-box">
                            <input type="text" name="smsmail">
                            <button class="get-veri" type="button">获取验证</button>
                        </div>
                    </div>
                    <a href="javascript:;" class="save">保存</a>
                </div>
            </form>
        </div>

    </div>
    <script src="../js/jquery-1.7.min.js"></script>
    <script>
        $(".get-veri").click(function () {
            
            var bindEmailForm = document.getElementById("bind-email-form"),
                email = bindEmailForm.email.value,
                emailreg = /^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;
            if (emailreg.test(email)) {
                sendTime($(".get-veri"), 30);
            }
        })
        // 倒计时
        var sendTime = function (obj, time) {
            function timeCountDown() {
                if (time == 0) {
                    obj.removeAttr("disabled");
                    obj.val("获取验证码");
                    obj.text("获取验证码");
                    clearInterval(timer);
                    return true;
                }
                obj.attr("disabled", "disabled");
                obj.val(time + "秒");
                obj.text(time + "秒");
                time--;
                return false;
            }
            timeCountDown();
            var timer = setInterval(timeCountDown, 1000);
        }
    </script>
</body>

</html>